{"remainingRequest":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/davidesimoncini/Documents/GrimmNodeModules/grimm-user-pic/src/grimm-user-pic.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/davidesimoncini/Documents/GrimmNodeModules/grimm-user-pic/src/grimm-user-pic.vue","mtime":1541489933000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":1541445404000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { Carousel, Slide } from 'vue-carousel';\nimport axios from 'axios';\nimport img from './assets/ProfiloUomo_1.svg';\n//import  EventBus  from '@/eventBus.js';\nexport default{\n    name: 'GrimmUserPic', // vue component name\n    data: function(){\n        return{\n            slides:[img,\n                    'assets/ProfiloUomo_2.svg',\n                    'assets/ProfiloUomo_3.svg',\n                    'assets/ProfiloDonna_1.svg',\n                    'assets/ProfiloDonna_2.svg',\n                    'assets/ProfiloDonna_3.svg'],\n            selectedSlide:'assets/ProfiloUomo_1.svg',   \n            selectedSlideIndex:0            \n        }\n    },\n    // created(){\n    //     EventBus.$on('WAKEUP', () => {\n    //           return document.getElementsByClassName('VueCarousel-inner')[0].className += \" wakeUp\";\n    //         });\n    //     EventBus.$on('RESET', () => {\n            \n    //           return this.reset();\n    //         });\n    // },\n    mounted(){          \n    },\n    props:{\n        default:{\n            type:String,\n            default:'Data'\n        }\n    },\n    methods:{\n        reset(){\n            this.selectedSlideIndex = 0;\n            this.selectedSlide = './img/ProfiloUomo_1.svg';\n            if (this.slides.length>6) {\n                this.slides.pop(); \n            }\n            \n        },\n        handleSlideClick (dataset) {\n            this.selectedSlide = this.slides[dataset];\n            this.$emit('input', {\n                string: this.selectedSlide,\n            });\n        },\n        updateValue() {\n          this.$emit('input', {\n            string: this.selectedSlide,\n          })\n        },\n        handleFileUpload(name, files){\n            var form_data = new FormData();\n            form_data.append('file',files[0]);\n            axios.post('/grimm-admin/service/addImage',form_data)\n            .then(function(response){\n                response = response.data;\n                if (this.slides.length> 6) {\n                    this.slides.pop();\n                    this.slides.push(response.outsidePath);\n                    \n                }else{\n                    this.slides.push(response.outsidePath);\n                    \n                }\n                this.selectedSlide = response.outsidePath;\n                setTimeout(function() {\n                    this.selectedSlideIndex = 6;\n                    this.$emit('input', {\n                        string: this.selectedSlide,\n                    });\n\n                }.bind(this), 100);\n                \n            }.bind(this))\n            \n        }\n    },\n    components:{\n        Carousel,\n        Slide\n    }\n\n};\n",{"version":3,"sources":["grimm-user-pic.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"grimm-user-pic.vue","sourceRoot":"src","sourcesContent":["<template>\n    <div class=\"userPanelFoto\">\n        <carousel   :navigationEnabled=\"true\"\n                    :perPage=\"1\"\n                    :paginationEnabled=\"false\"\n                    ref=\"carousel\"\n                    :loop=\"true\"\n                    @pageChange=\"handleSlideClick\"\n                    :navigate-to=\"selectedSlideIndex\">\n          <slide v-for=\"(slide, index) in slides\"\n                class=\"image is-square\"\n                v-bind:data=\"slides\"\n                v-bind:key=\"index\">\n            <img :src=\"slide\" alt=\"\">\n          </slide>\n        </carousel>\n        <form method=\"post\" enctype=\"multipart/form-data\">\n            <input type=\"file\" name=\"fileToUpload\" id=\"fileToUpload\" @change=\"handleFileUpload($event.target.name, $event.target.files)\">\n            <label for=\"fileToUpload\" class=\"button\">Personalizza</label>\n        </form>\n    </div>\n</template>\n\n<script>\n    import { Carousel, Slide } from 'vue-carousel';\n    import axios from 'axios';\n    import img from './assets/ProfiloUomo_1.svg';\n    //import  EventBus  from '@/eventBus.js';\n    export default{\n        name: 'GrimmUserPic', // vue component name\n        data: function(){\n            return{\n                slides:[img,\n                        'assets/ProfiloUomo_2.svg',\n                        'assets/ProfiloUomo_3.svg',\n                        'assets/ProfiloDonna_1.svg',\n                        'assets/ProfiloDonna_2.svg',\n                        'assets/ProfiloDonna_3.svg'],\n                selectedSlide:'assets/ProfiloUomo_1.svg',   \n                selectedSlideIndex:0            \n            }\n        },\n        // created(){\n        //     EventBus.$on('WAKEUP', () => {\n        //           return document.getElementsByClassName('VueCarousel-inner')[0].className += \" wakeUp\";\n        //         });\n        //     EventBus.$on('RESET', () => {\n                \n        //           return this.reset();\n        //         });\n        // },\n        mounted(){          \n        },\n        props:{\n            default:{\n                type:String,\n                default:'Data'\n            }\n        },\n        methods:{\n            reset(){\n                this.selectedSlideIndex = 0;\n                this.selectedSlide = './img/ProfiloUomo_1.svg';\n                if (this.slides.length>6) {\n                    this.slides.pop(); \n                }\n                \n            },\n            handleSlideClick (dataset) {\n                this.selectedSlide = this.slides[dataset];\n                this.$emit('input', {\n                    string: this.selectedSlide,\n                });\n            },\n            updateValue() {\n              this.$emit('input', {\n                string: this.selectedSlide,\n              })\n            },\n            handleFileUpload(name, files){\n                var form_data = new FormData();\n                form_data.append('file',files[0]);\n                axios.post('/grimm-admin/service/addImage',form_data)\n                .then(function(response){\n                    response = response.data;\n                    if (this.slides.length> 6) {\n                        this.slides.pop();\n                        this.slides.push(response.outsidePath);\n                        \n                    }else{\n                        this.slides.push(response.outsidePath);\n                        \n                    }\n                    this.selectedSlide = response.outsidePath;\n                    setTimeout(function() {\n                        this.selectedSlideIndex = 6;\n                        this.$emit('input', {\n                            string: this.selectedSlide,\n                        });\n\n                    }.bind(this), 100);\n                    \n                }.bind(this))\n                \n            }\n        },\n        components:{\n            Carousel,\n            Slide\n        }\n\n    };\n</script>\n<style scoped>\n    .userPanelFoto{\n        padding-left: 18px;\n        padding-right: 18px;\n        display: flex;\n        flex-direction:column;\n        height: 100%;\n    }\n                    \n    .userPanelFoto label{\n        margin:auto;\n    }\n    .userPanelFoto img{\n        width: 100%;\n        border-radius: 50000px;\n    }\n    .userPanelFoto form{\n        height: 100%;\n        display: flex;\n    }\n    .userPanelFoto input{\n        width: 0.1px;\n        height: 0.1px;\n        opacity: 0;\n        overflow: hidden;\n        position: absolute;\n        z-index: -1;\n    }\n\n</style>"]}]}